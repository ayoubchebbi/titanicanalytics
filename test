<!DOCTYPE html>
<html>
<head>
    <title>Bing Maps Custom SVG Pin</title>
    <meta charset="utf-8" />
    <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?callback=loadMapScenario&key=YOUR_BING_MAPS_KEY'></script>
    <style>
        #myMap {
            position: relative;
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>
    <div id="myMap"></div>
    <script>
        function loadMapScenario() {
            // Initialize the map
            var map = new Microsoft.Maps.Map(document.getElementById('myMap'), {
                center: new Microsoft.Maps.Location(47.6149, -122.1941), // Example: Seattle area
                zoom: 12
            });

            // Create custom SVG icon for the pin
            var center = map.getCenter();
            var pin = createCustomPin(center, "1");
            map.entities.push(pin);
        }

        function createCustomPin(location, label) {
            // Create SVG string for a blue circle with red border and number inside
            var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30">' +
                      '<circle cx="15" cy="15" r="12" fill="#3b82f6" stroke="#ef4444" stroke-width="3"/>' +
                      '<text x="15" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">' + label + '</text>' +
                      '</svg>';
            
            // Convert the SVG to a data URL
            var svgDataUrl = 'data:image/svg+xml;base64,' + btoa(svg);
            
            // Create the pushpin with custom icon
            return new Microsoft.Maps.Pushpin(location, {
                icon: svgDataUrl,
                anchor: new Microsoft.Maps.Point(15, 15) // Center the pin (half of width/height)
            });
        }
    </script>
</body>
</html>
