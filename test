get popupStyle() {
  const { x, y } = this.popupPosition;
  
  if (this.isCommunity) {
    const buttonWidth = 40;
    const estimatedPopupWidth = 200;
    const spaceOnLeft = x;
    const spaceOnRight = window.innerWidth - x - buttonWidth;
    
    // Seuil minimum d'espace requis à gauche
    const minLeftSpace = 50; // ou la valeur que vous préférez
    
    let leftPosition;
    
    // Si pas assez d'espace à gauche, afficher à droite
    if (spaceOnLeft < minLeftSpace && spaceOnRight >= estimatedPopupWidth) {
      leftPosition = x + buttonWidth; // Positionner à droite du bouton
    } else {
      // Logique originale - afficher à gauche
      leftPosition = (spaceOnLeft >= estimatedPopupWidth) ? x - estimatedPopupWidth : x;
    }
    
    return `
      position: fixed;
      left: ${leftPosition}px;
      display: flex;
      align-items: center;
      justify-content: center;
    `;
  }
  
  return `
    position: fixed;
    top: ${y}px;
    left: ${x}px;
    transform: none;
  `;
}
