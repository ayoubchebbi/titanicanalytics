// Get assigned Permission Sets
Set<String> userPermissionSetIds = new Set<String>();
for (PermissionSetAssignment psa : [SELECT PermissionSetId FROM PermissionSetAssignment WHERE AssigneeId = :UserInfo.getUserId()]) {
    userPermissionSetIds.add(psa.PermissionSetId);
}

// Get Custom Permissions linked to those Permission Sets
List<SetupEntityAccess> setupEntityAccessList = [ 
    SELECT SetupEntityId FROM SetupEntityAccess 
    WHERE ParentId IN :userPermissionSetIds 
    AND SetupEntityType = 'CustomPermission'
];

// Get Custom Permission names
List<CustomPermission> customPermissions = [SELECT Id, DeveloperName FROM CustomPermission WHERE Id IN :setupEntityAccessList];

System.debug('Custom Permissions for current user: ' + customPermissions);
