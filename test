ist<ServiceAppointment> serviceAppointments = [
    SELECT Id, AppointmentNumber, Status, SchedStartTime
    FROM ServiceAppointment 
    WHERE Status != 'Completed'
    LIMIT 200
];

Integer totalCount = 0;
Integer successCount = 0;
Integer errorCount = 0;

// Boucle sur chaque ServiceAppointment
for(ServiceAppointment sa : serviceAppointments) {
    try {
        totalCount++;
        
        // Appel de votre fonction getSlots (exemple)
        Object result = FSCO_ScheduledCalendarController.getSlots(sa.Id);
        
        // Vérifier si le résultat est supérieur à 0
        if(result != null) {
            String resultStr = String.valueOf(result);
            if(resultStr.isNumeric() && Integer.valueOf(resultStr) > 0) {
                System.debug('ID avec résultat > 0: ' + sa.Id + ' - Résultat: ' + result);
                successCount++;
            }
        }
        
    } catch(Exception e) {
        errorCount++;
        System.debug('Erreur pour ID ' + sa.Id + ': ' + e.getMessage());
        // Continue vers l'ID suivant
        continue;
    }
}

// Affichage du résumé final
System.debug('=== RÉSUMÉ FINAL ===');
System.debug('Total traité: ' + totalCount);
System.debug('Succès: ' + successCount);
System.debug('Erreurs: ' + errorCount);
