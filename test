Id serviceAppointmentId = '08pXXXXXXXXXXXXXXX'; // Votre Service Appointment ID
        Id serviceResourceId = '0HnXXXXXXXXXXXXXXX';   // Votre Service Resource ID
        
        try {
            // 1. Mettre à jour le Service Appointment avec les dates
            ServiceAppointment sa = new ServiceAppointment(
                Id = serviceAppointmentId,
                SchedStartTime = DateTime.now().addDays(1),
                SchedEndTime = DateTime.now().addDays(1).addHours(2),
                Status = 'Scheduled'
            );
            update sa;
            
            // 2. Créer l'Assigned Resource pour lier la ressource
            AssignedResource ar = new AssignedResource(
                ServiceAppointmentId = serviceAppointmentId,
                ServiceResourceId = serviceResourceId,
                EstimatedTravelTime = 0,
                ActualTravelTime = 0
            );
            insert ar;
            
            System.debug('Service Appointment planifié et ressource assignée avec succès!');
            
        } catch (Exception e) {
            System.debug('Erreur: ' + e.getMessage());
        }
